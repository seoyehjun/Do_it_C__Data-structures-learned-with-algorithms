#include<stdio.h>
#include"IntStack.h"
#define Top

int flag_a[8]; // 각 행을 썻는지 여부
int flag_b[15];// 대각선/에 퀸을 배치했는지 여부
int flag_c[15];// 대각선\에 퀸을 배치했는지 여부
int pos[8];    //  각 열에서 퀸의 위치

void print(void)
{
	int chart[8][8];
	int yesorno;
	printf("하나 출력할까요?(아무숫자 입력후 엔터)");
	scanf("%d", &yesorno);

	for (int i = 0; i < 8; i++)// 행
	{
		for (int j = 0; j < 8; j++)//열단위
		{
			if (pos[j] == i)
			{
				printf("■");
			}
			else
			{
				printf("□");
			}
		}
		putchar('\n');
	}
	printf("\n\n");
	return;
}

void set(int i)
{
	int j;
	for (j = 0; j < 8; j++)
	{
		if (!flag_a[j] && !flag_b[i + j] && !flag_c[i - j + 7])// 비어(안쓰고)있으면
		{                                                 // i+1후 호출하면 j=0을 이미쓰고잇어j=1부터 시작
			pos[i] = j;// i열 j행에 퀸을 넣는다
			if (i == 7)// 8번째 열이라면 출력
			{
				print();// 출력하고나면 갈대없쥬?return 합니다
			}
			else
			{
				flag_a[j] = flag_b[i + j] = flag_c[i - j + 7] = 1;//행사용 2대각선 사용
				set(i + 1);
				flag_a[j] = flag_b[i + j] = flag_c[i - j + 7] = 0;
			}
		}
	}
}

int main(void)
{
	for (int i = 0; i < 8; i++)
	{
		flag_a[i] = 0;
	}

	for (int i = 0; i < 15; i++)
	{
		flag_b[i] = flag_c[i] = 0;
	}
	set(0);

	return 0;
}